hostname: yii2advanced.local
is_production: false
yii_debug: true

packages: [
    git-core,
    curl,
    wget,
    htop,
    python-psycopg2,
    python3-psycopg2,
    python3-pygresql,
    libpq-dev,
    unzip,
    zip,
    expect-dev,
    mc,
    libxss1,
    libxml2,
    librsvg2-bin,
    inkscape,
    librabbitmq-dev,
    libgnutls30
]

# PHP
php_v: "7.0"
php_error_reporting: E_ALL
php_display_errors: On
php_upload_max_filesize: 60M
php_post_max_size: 60M
php_max_execution_time: 30
php_memory_limit: 256M
php_file_uploads: On
php_max_file_uploads: 21
php_opcache_revalidate_freq: 3600
php_packages: [
    "php{{ php_v }}-fpm", # for Nginx
    "php{{ php_v }}-dev",
    "php{{ php_v }}-cli",
    "php{{ php_v }}-mysql",
    "php{{ php_v }}-curl",
    "php{{ php_v }}-gd",
    "php{{ php_v }}-mcrypt",
    "php{{ php_v }}-mbstring",
    "php{{ php_v }}-intl",
    "php{{ php_v }}-dom",
    "php{{ php_v }}-xml",
  #    "php{{ php_v }}-redis",
    "php{{ php_v }}-zip",
    "php{{ php_v }}-soap",
    "php{{ php_v }}-ssh2",
    "php{{ php_v }}-opcache",
    "php{{ php_v }}-apcu",
    "php{{ php_v }}-imagick",
    "php{{ php_v }}-amqp"
]

# phpredis
#phpredis_lib_branch: 3.1.6
phpredis_lib_branch: 5.2.2

# redis
redis_version: 5.0.8

#Nginx
nginx_version: 1.14.0
nginx_user: nginx
nginx_group: nginx
nginx_run_user: 'www-data'
nginx_worker_processes: 1 # recomended: grep processor /proc/cpuinfo | wc -l
nginx_worker_connections: 1024 # recomended: ulimit -n
nginx_client_max_body_size: 35M
nginx_keepalive_requests: 60
nginx_keepalive_timeout: 100
nginx_client_header_timeout: 25
nginx_client_body_timeout: 25
nginx_send_timeout: 25
nginx_fastcgi_connect_timeout: 65
nginx_fastcgi_send_timeout: 65
nginx_php_unix_socket: /var/run/php/php{{ php_v }}-fpm.sock
nginx_ngx_ssl_bufsize: 1400
nginx_3rd_party_modules: [
  { name: 'headers-more-nginx-module', version: "0.31", archive_name: "headers-more-nginx-module.tar.gz", url: "https://github.com/openresty/headers-more-nginx-module/archive/v0.31.tar.gz" },
  { name: 'nchan', version: "1.1.15", archive_name: "nchan.tar.gz", url: "https://github.com/slact/nchan/archive/v1.1.15.tar.gz" }
]
ssl_certs_files: [
]
nginx_basic_vhosts: [
    { server_name: '_', root: '/var/www/yii2-advanced/frontend/web', template: 'catch_all_yii'},
#    { server_name: 'testserver-admin.191.0.10.10.xip.io', root: '/var/www/yii2-advanced/oil/backend/web', template: 'yii'},
#    { server_name: 'testserver-api.191.0.10.10.xip.io', root: '/var/www/yii2-advanced/oil/api/web', template: 'yii'},
#    { server_name: 'oil.191.0.10.10.xip.io', root: '/var/www/yii2-advanced/oil', template: 'yii'},
    { server_name: 'frontend.191.0.10.10.xip.io', root: '/var/www/yii2-advanced/frontend/web', template: 'yii'},
    { server_name: 'backend.191.0.10.10.xip.io', root: '/var/www/yii2-advanced/backend/web', template: 'yii'},
    { server_name: 'adminer.191.0.10.10.xip.io', root: '/usr/share/adminer', template: 'php'},
    { server_name: 'db.191.0.10.10.xip.io', root: '/usr/share/phpmyadmin', template: 'php'}
]
nginx_front_vhosts: [
]
nginx_socket_vhosts: [
]
nginx_ssl_vhosts: []

frontendDomain: frontend.191.0.10.10.xip.io
#backendDomain: backend.191.0.10.10.xip.io

mysql_bind_address: 127.0.0.1
mysql_root_pass: yii2

mysql_app_user: yii2advanced
mysql_app_pass: yii2advanced
sql_dump_route: /var/www/yii2-advanced/common/data

mysql_databases: [
  yii2advanced,
]

workspace: /root

host_name: "yii2advanced"

git_clone_folder: "/var/www/yii2-advanced"

# adminer
adminer_ver: 4.2.5
adminer_path: '/usr/share/adminer'
adminer_clean_directory: false
adminer_css_theme_url: ''
# For example: https://raw.githubusercontent.com/arcs-/Adminer-Material-Theme/master/adminer.css
# For more details: https://www.adminer.org/#extras

### composer
composer_global_require: "fxp/composer-asset-plugin:~1.4.5"